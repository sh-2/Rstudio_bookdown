# branchに関わるエラーと対処法

## 同一地点からのpush

同じブランチ内の同じ地点から編集すると、後者のpushが拒否されます。  
(ミスブランチという場所で作業したとします。)
![conflict](pics/conflict.png)

<br />

この場合、エラーが出て`fetch first`と表記が出ます。後者は、前者のpushした情報をリモートレポジトリからfetch（情報だけを取ってくる）し、自分のローカルリポジトリの編集にマージします。そのあとでpushができるようになります。  

後者がエラーに対処するための行動(fetch first)
```
git fetch origin    #リモートの情報だけを取ってくる
git branch -a   #ローカルとリモートのすべてのブランチを表示して確認
git checkout ミスブランチ   #ミスブランチに移動
git merge origin/ミスブランチ    #fetchされた前者のpushを後者自身のローカルにマージ
```
ここまで行えば後者もpushすることができます。  
（エラーでGit Bashが進めなくなったとき、**「:wq」**を押すとよいらしいです。）

## conflict
共同者がファイルの同じ個所を編集していると、このエラーが発生します。このエラーが発生したときgit側がファイル内のどこがconflictしているのか示してくれます。conflictしている部分には以下のようなものが現れます。

```
<<<<<<<HEAD

A is correct

=======

B is correct

>>>>>>>
```
この場合Aが正しいとすれば、手動で`A is correct`以外をすべて消します。そうするとpushが可能になります。



## push, fetch, pullが上手くいかないとき
原因は何らかの競合が発生していることが多いです。なのでローカルの環境をやり直せばたいていうまくいきます。

<br />

まずローカルリポジトリのフォルダをすべて消します。(編集したい内容は覚えておくか、必要なファイルのみ移動させて消さずに置いておいて下さい。)  
その後
```
git clone リモートリポジトリのURL
```
を実行すれば、リモートリポジトリの最新情報がローカルにコピーされるため、push, fetch, pullの際の競合が発生しなくなります。この新しいフォルダで再び編集を行いましょう。